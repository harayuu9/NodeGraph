<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:NodeGraph.Editor.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="200" d:DesignHeight="300"
        x:Class="NodeGraph.Editor.Views.AddNodeWindow"
        x:DataType="vm:AddNodeWindowViewModel"
        Title="Add Node"
        Width="200"
        Height="300"
        SystemDecorations="BorderOnly">

    <Grid RowDefinitions="Auto,*,Auto">
        <!-- 検索ボックス -->
        <TextBox Grid.Row="0"
                 Text="{Binding SearchText}"
                 Watermark="Search nodes..."
                 Margin="2"
                 Name="SearchBox"/>

        <!-- ノードツリー -->
        <Border Grid.Row="1"
                Margin="2,0,2,0"
                BorderBrush="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"
                BorderThickness="1">
            <TreeView ItemsSource="{Binding TreeItems}"
                      SelectedItem="{Binding SelectedItem}"
                      Name="NodeTreeView">
                <TreeView.ItemTemplate>
                    <TreeDataTemplate ItemsSource="{Binding Children}">
                        <TextBlock Text="{Binding Name}"
                                   FontWeight="{Binding FontWeight}"/>
                    </TreeDataTemplate>
                </TreeView.ItemTemplate>
            </TreeView>
        </Border>

        <!-- ボタン -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Spacing="10">
            <Button Content="Cancel"
                    Width="60"
                    Height="25"
                    FontSize="12"
                    Name="CancelButton"/>
            <Button Content="Add"
                    Width="60"
                    Height="25"
                    FontSize="12"
                    Command="{Binding ConfirmCommand}"
                    Name="ConfirmButton"
                    IsDefault="True"/>
        </StackPanel>
    </Grid>
</Window>
